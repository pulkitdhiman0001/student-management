{%extends "skel.html"%}
{%block title%}Users{% endblock %}
{%block content%}
{%- for category, message in get_flashed_messages(with_categories = true) %}
<ul>
    {%if category== 'success'%}
    <li class="p-1 mb-1 bg-success text-white">{{ message }}</li>
    {%else%}
    <li class="p-1 mb-1 bg-danger text-white">{{ message }}</li>
    {%endif%}

</ul>
{%- endfor %}

<br>
<br>

<h2 style="text-align:center">Users List</h2>
<br>

<div style="margin:auto" class="d-grid gap-2 col-6 mx-auto w-25">
    <div class="d-flex flex-row-reverse">
        <a class="add_button"

           href="{{url_for('add_user')}}">Add <i class="fa fa-plus" aria-hidden="true"></i></a>
    </div>
    <div style="overflow-y:scroll; height:200px">
        <table class="table table-hover" id="tb">
            <thead>
            <tr>
                <th>Name</th>
                <th>Action</th>

            </tr>
            </thead>
            <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>
                    <button type="button" class="btn btn-outline-danger"
                            onclick="location.href='{{url_for('delete_user', user_id = user.id)}}'">
                        Delete
                    </button>
                    <button type="button" class="btn btn-outline-success"
                            onclick="location.href='{{url_for('update_user', user_id = user.id)}}'">
                        Edit
                    </button>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>


</div>

{%endblock%}